# Target Directory - dbt Generated Files

This directory contains all files generated by dbt during compilation, execution, and testing. **This directory should never be committed to version control** as it contains environment-specific and generated content.

## ğŸ“ Directory Structure

```
target/
â”œâ”€â”€ README.md                    # This file - explains target contents
â”œâ”€â”€ lottery_ecommerce.db         # SQLite database file (local development)
â”œâ”€â”€ manifest.json               # dbt project manifest (metadata)
â”œâ”€â”€ partial_parse.msgpack       # Incremental parsing cache
â”œâ”€â”€ graph.gpickle              # DAG representation for dbt graph
â”œâ”€â”€ graph_summary.json         # Graph summary statistics
â”œâ”€â”€ run_results.json           # Latest run results and statistics
â”œâ”€â”€ semantic_manifest.json     # Semantic layer manifest
â”œâ”€â”€ compiled/                  # Compiled SQL files
â”‚   â””â”€â”€ lottery_ecommerce_analytics/
â”‚       â””â”€â”€ models/           # Compiled model SQL
â””â”€â”€ run/                      # Executed model artifacts
    â””â”€â”€ lottery_ecommerce_analytics/
        â””â”€â”€ models/           # Run artifacts and logs
```

## ğŸ”§ Generated Files Explained

### Database Files
- **`lottery_ecommerce.db`**: SQLite database file containing all tables, views, and data
  - Created when running `dbt run` or `dbt seed`
  - Contains staging, intermediate, and marts models
  - Includes seed data loaded via `dbt seed`

### dbt Metadata Files
- **`manifest.json`**: Complete project metadata and model definitions
  - Generated on every dbt command
  - Contains model configurations, dependencies, and metadata
  - Used by dbt for dependency resolution and execution planning

- **`partial_parse.msgpack`**: Incremental parsing cache
  - Speeds up dbt startup by caching parsed files
  - Automatically regenerated when files change
  - Can be safely deleted (will be recreated)

### Graph and Dependencies
- **`graph.gpickle`**: Directed Acyclic Graph (DAG) representation
  - Used by dbt for dependency resolution
  - Enables features like `dbt ls` and `dbt run --select`
  - Generated from manifest.json

- **`graph_summary.json`**: Graph statistics and metadata
  - Contains node counts, dependency information
  - Used for project analysis and documentation

### Execution Results
- **`run_results.json`**: Latest execution results
  - Contains success/failure status for each model
  - Includes timing information and error messages
  - Used by dbt for incremental runs and status tracking

- **`semantic_manifest.json`**: Semantic layer definitions
  - Contains metric definitions and semantic models
  - Used by dbt Semantic Layer features

### Compiled SQL
- **`compiled/`**: Directory containing compiled SQL for all models
  - Each model has its compiled SQL stored here
  - Useful for debugging and understanding generated SQL
  - Generated when running `dbt compile`

### Run Artifacts
- **`run/`**: Directory containing execution artifacts
  - Logs and metadata from model execution
  - Used for debugging and performance analysis

## ğŸ”„ File Lifecycle

### During Development
1. **`dbt debug`**: Creates initial target directory structure
2. **`dbt compile`**: Generates compiled SQL in `compiled/`
3. **`dbt run`**: Creates database tables and updates `run_results.json`
4. **`dbt test`**: Updates test results in `run_results.json`
5. **`dbt docs generate`**: Creates documentation artifacts

### File Regeneration
- **manifest.json**: Regenerated on every dbt command
- **compiled/**: Regenerated on `dbt compile` or `dbt run`
- **run_results.json**: Updated on every execution
- **Database files**: Updated when models are run

## ğŸ§¹ Cleanup

### Manual Cleanup
```bash
# Remove entire target directory
rm -rf target/

# Remove specific files
rm target/manifest.json
rm target/partial_parse.msgpack
```

### dbt Cleanup Commands
```bash
# Clean target directory
dbt clean

# Clean and reinstall dependencies
dbt deps
```



